<html xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://jasperreports.sourceforge.net/jasperreports">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JasperReports 4.0.1 - Crosstabs Sample</title>
<style type="text/css">
.title {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 28px;
	font-weight: normal;
}

.toc {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.name {
	font-family: Courier New, Courier, serif;
	font-size: 16px;
	font-weight: bold;
}

.label {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: bold;
	font-style: italic;
}

.description {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: normal;
}

.value {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.element {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.attribute {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: bold;
}

.code {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.copy {
	font-decoration: none;
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 8pt;
	font-style: normal;
	color: #000000;
}

</style>
</head>
<body bgcolor="#FFFFFF">
<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td colspan="2" align="right"><span class="element"><a href="../../sample.reference.html">Sample Reference</a> - <a href="../../schema.reference.html">Schema Reference</a> - <a href="../../config.reference.html">Configuration Reference</a> - <a href="http://jasperreports.sourceforge.net/api/index.html">API (Javadoc)</a></span>
<br>
</td>
</tr>
<tr>
<td colspan="2">
<hr size="1">
</td>
</tr>
<tr valign="middle">
<td nowrap="true"><span class="title">JasperReports - Crosstabs Sample (version 4.0.1)</span></td><td align="right"><img src="../../resources/jasperreports.png" border="0"></td>
</tr>
<tr>
<td colspan="2">
<hr size="1">
</td>
</tr>
</table>
<br>
<span class="description"><span class="description">Crosstab and subdataset sample.</span></span>
<br>
<br>
<span class="element"><a href="http://sourceforge.net/projects/jasperreports/files/jasperreports/JasperReports%204.0.1/jasperreports-4.0.1-project.zip/download" target="_blank">Download All Sample Source Files</a></span>
<br>
<span class="element"><a href="http://jasperforge.org/scm/viewvc.php/tags/jr-4-0-1/jasperreports/demo/samples/crosstabs/?root=jasperreports" target="_blank">Browse Sample Source Files on SVN</a></span>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td style="width: 20px;">
<br>
</td><td>
<br>
</td>
</tr>
<tr>
<td colspan="2"><span class="label">Main Features in This Sample</span></td>
</tr>
<tr>
<td>
<br>
</td><td><span class="element"><a href="#crosstabs">Crosstabs</a></span></td>
</tr>
<tr>
<td>
<br>
</td><td><span class="element"><a href="#datasets">Datasets</a></span></td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td width="80%">
<br>
</td><td width="20%">
<br>
</td>
</tr>
<tr>
<td colspan="6" align="right"><a name="crosstabs"></a><a href="#top" class="toc">top</a></td>
</tr>
<tr>
<td colspan="6">
<hr size="1">
</td>
</tr>
<tr valign="top">
<td><img src="../../resources/jr-16x16.png" border="0"></td><td colspan="4"><span class="name">Crosstabs</span></td><td align="right"><span class="copy">Documented by 
	<a href="mailto:" class="copy"></a></span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr valign="top">
<td>
<br>
</td><td nowrap="true"><span class="label">Description / Goal</span></td><td>
<br>
</td><td colspan="3"><span class="description">
How to use the built-in crosstab element to display aggregated data.
    </span></td>
</tr>
<tr valign="top">
<td>
<br>
</td><td colspan="1"><span class="label">Since</span></td><td>
<br>
</td><td colspan="3"><span class="description">1.1.0</span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr>
<td>
<br>
</td><td colspan="5"><span class="description">
[Under Construction]
    </span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr>
<td colspan="6" align="right"><a name="datasets"></a><a href="#top" class="toc">top</a></td>
</tr>
<tr>
<td colspan="6">
<hr size="1">
</td>
</tr>
<tr valign="top">
<td><img src="../../resources/jr-16x16.png" border="0"></td><td colspan="4"><span class="name">Datasets</span></td><td align="right"><span class="copy">Documented by 
	<a href="mailto:shertage@users.sourceforge.net" class="copy">Sanda Zaharia</a></span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr valign="top">
<td>
<br>
</td><td nowrap="true"><span class="label">Description / Goal</span></td><td>
<br>
</td><td colspan="3"><span class="description">
How to make use of subdatasets for chart elements and crosstab elements.
    </span></td>
</tr>
<tr valign="top">
<td>
<br>
</td><td colspan="1"><span class="label">Since</span></td><td>
<br>
</td><td colspan="3"><span class="description">1.1.0</span></td>
</tr>
<tr valign="top">
<td>
<br>
</td><td nowrap="true"><span class="label">Other Samples</span></td><td>
<br>
</td><td colspan="3">
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td><span class="element"><a href="../charts/index.html">/demo/samples/charts</a></span></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr>
<td>
<br>
</td><td colspan="5"><span class="description">
<b>Report Datasets</b>

<br>

<br>
A dataset is an entity that intermediates data source and subreport characteristics. 
Datasets allow the engine to iterate through some virtual records, just as data sources do, 
but they also enable calculations and data grouping during this iteration using variables 
and groups. A dataset declaration, containing parameters, fields, variables, and 
groups, is similar to subreport declarations, but datasets are not related to any visual content. 
There are no sections or layout information at the dataset level. 
<br>

<br>
The report data source, along with the parameters, fields, variables, and groups declared 
at the report level, represent a special dataset declaration, implicitely used in every 
report template, the so-called main dataset. 
<br>
One can consider the main dataset responsible for iterating through the report data source 
records, calculating variables, filtering out records, and estimating group breaks during the 
report-filling process. 
<br>

<br>

<b>Subdatasets and Dataset Runs</b>

<br>

<br>
User-defined datasets are declared as <span class="code"><code>&lt;subDataset/&gt;</code></span> elements. To completely 
characterize a <a href="http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/schema.reference.html#subDataset" target="_blank"><span class="element">subdataset</span></a> 
one needs to set:
<ol>

<li>Subdataset attributes:
<ul>

<li>
<span class="code"><code>name</code></span>
</li>

<li>
<span class="code"><code>scriptletClass</code></span>
</li>

<li>
<span class="code"><code>resourceBundle</code></span>
</li>

<li>
<span class="code"><code>whenResourceMissingType</code></span>
</li>

</ul>

</li>

<li>Subdataset elements:
<ul>

<li>
<span class="code"><code>&lt;property/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;scriptlet/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;parameter/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;queryString/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;field/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;sortField/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;variable/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;filterExpression/&gt;</code></span>
</li>

<li>
<span class="code"><code>&lt;group/&gt;</code></span>
</li>

</ul>

</li>

</ol> 
Subdatasets are useful only in conjunction with some other complex elements, such as charts and 
crosstabs, that need to iterate through data not belonging to the main report data source itself, 
to retrieve specific data for the chart or perform data bucketing for the crosstab. Just simply 
declaring a dataset at the report level does not have any effect. The dataset has to be further 
referenced by a chart or crosstab element, in order to be used. 
<br>

<br>
Anytime a dataset is referenced by another report element, a 
<a href="http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/schema.reference.html#datasetRun" target="_blank"><span class="element">dataset run</span></a> 
is instantiated. A dataset run supplies additional information about either the appropriate data source to be iterated, or the 
database connection string. It comes also with its own parameters and/or parameters map. Dataset runs are similar to 
<a href="../subreport/index.html#subreports" target="_blank"><span class="element">subreports</span></a> in the way parameters and the data source/connection are passed in: 
<pre>
 &lt;element name="datasetRun"&gt;
  &lt;annotation&gt;
   &lt;documentation&gt;Subdataset instantiation information for a chart/crosstab dataset.&lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;complexType&gt;
   &lt;sequence&gt;
    &lt;element ref="jr:parametersMapExpression" minOccurs="0" maxOccurs="1"/&gt;
    &lt;element ref="jr:datasetParameter" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;choice minOccurs="0" maxOccurs="1"&gt;
     &lt;element ref="jr:connectionExpression"/&gt;
     &lt;element ref="jr:dataSourceExpression"/&gt;
    &lt;/choice&gt;
   &lt;/sequence&gt;
   &lt;attribute name="subDataset" type="string" use="required"&gt;
	&lt;annotation&gt;
 	 &lt;documentation&gt;The name of the &lt;elem&gt;subdataset&lt;/elem&gt; to instantiate.&lt;/documentation&gt;
	&lt;/annotation&gt;
   &lt;/attribute&gt;
  &lt;/complexType&gt;
 &lt;/element&gt;</pre>
The <span class="code"><code>subDataset</code></span> attribute is mandatory and contains the name of the subdataset to be used during the 
chart or crosstab filling process. If no dataset run is specified for a chart or crosstab, the main dataset of 
the report is used by default.
    </span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
</table>
<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td>
<hr size="1">
</td>
</tr>
<tr>
<td align="center"><span class="copy">&copy; 2001-2010 Jaspersoft Corporation <a href="http://www.jaspersoft.com" target="_blank" class="copy">www.jaspersoft.com</a></span></td>
</tr>
</table>
</body>
</html>
